!function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(e,t,r,o){return new(r||(r=Promise))((function(n,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var r=function(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}((function(e){var r,o;r=t,o=function(){function e(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function t(){var e=[];return{watch:e.push.bind(e),trigger:function(t,r){for(var o=!0,n={detail:r,preventDefault:function(){o=!1}},i=0;i<e.length;i++)e[i](t,n);return o}}}function r(e){return"none"===window.getComputedStyle(e).display}function o(e){this.elem=e}function n(e,t){return o.make(e("parent")).clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick((function(){e("overlayClose",!0)&&t()}))}o.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var r=document.createElement(t||"div");return(e||document.body).appendChild(r),new o(r)},o.prototype={child:function(e){return o.make(this.elem,e)},stylize:function(e){for(var t in void 0!==(e=e||{}).opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(t){return e(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new o(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!r(this.elem)}};var i=1;function s(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function a(e){return function(){return e().elem}}var l=t(),c=t();function u(e,t){function o(e,t){return(e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function n(e){return!(r(e)||o(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||o(e,"input,select,textarea,button,a[href],area[href],iframe"))}function i(e){for(var t=e.getElementsByTagName("*"),r=0;r<t.length;r++)if(n(t[r]))return t[r]}var s;e.beforeShow((function(){s=document.activeElement})),e.afterShow((function(){if(t()){var r=i(e.modalElem());r&&r.focus()}})),e.afterClose((function(){t()&&s&&s.focus(),s=null})),c.watch((function(r){if(t()&&e.isVisible()){var o=i(e.modalElem()),s=function(e){for(var t=e.getElementsByTagName("*"),r=t.length;r--;)if(n(t[r]))return t[r]}(e.modalElem());(r.shiftKey?o:s)===document.activeElement&&((r.shiftKey?s:o).focus(),r.preventDefault())}}))}return document.documentElement.addEventListener("keydown",(function(e){var t=e.which||e.keyCode;27===t?l.trigger():9===t&&c.trigger(e)})),function(r){("string"==typeof r||e(r))&&(r={content:r});var c=t(),h=t(),p=t(),f=t(),d=t();function y(e,t){var o=r[e];return"function"==typeof o&&(o=o(t)),void 0===o?t:o}var m,g,v=T.bind(window,"modal"),w=T.bind(window,"overlay"),b=T.bind(window,"close");function x(e){w().hide(),v().hide(),d.trigger(m,e)}function S(e){f.trigger(m,e)&&x(e)}function k(e){return function(){return e.apply(this,arguments),m}}function T(e,t){if(!g){var r=function(e,t){var r=e("width","auto");"number"==typeof r&&(r+="px");var n=e("modalId","pico-"+i++);return o.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:r,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",n).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",n)).onClick((function(e){new o(e.target).anyAncestor((function(e){return/\bpico-close\b/.test(e.elem.className)}))&&t()}))}(y,S);g={modal:r,overlay:n(y,S),close:s(r,y)},c.trigger(m,t)}return g[e]}return u(m={modalElem:a(v),closeElem:a(b),overlayElem:a(w),buildDom:k(T.bind(null,null)),isVisible:function(){return!!(g&&v&&v().isVisible())},show:function(e){return h.trigger(m,e)&&(w().show(),b(),v().show(),p.trigger(m,e)),this},close:k(S),forceClose:k(x),destroy:function(){v().destroy(),w().destroy(),w=v=b=void 0},options:function(e){Object.keys(e).map((function(t){r[t]=e[t]}))},afterCreate:k(c.watch),beforeShow:k(h.watch),afterShow:k(p.watch),beforeClose:k(f.watch),afterClose:k(d.watch)},y.bind(null,"focus",!0)),function(e,t){var r,n=new o(document.body);e.beforeShow((function(){r=n.elem.style.overflow,t()&&n.stylize({overflow:"hidden"})})),e.afterClose((function(){n.stylize({overflow:r})}))}(m,y.bind(null,"bodyOverflow",!0)),l.watch((function(){y("escCloses",!0)&&m.isVisible()&&m.close()})),m}},e.exports?e.exports=o():r.picoModal=o()})),o=null;function n(e){switch(e){case"green":return o.greenIcon;case"black":return o.blackIcon;case"blue":return o.blueIcon;case"grey":return o.greyIcon;case"violet":return o.violetIcon;case"yellow":return o.yellowIcon;case"red":return o.redIcon;case"orange":return o.orangeIcon;case"gold":return o.goldIcon;default:return new L.Icon.Default}}function i(){}function s(){s.init.call(this)}function a(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r){if(t)e.call(r);else for(var o=e.length,n=m(e,o),i=0;i<o;++i)n[i].call(r)}function c(e,t,r,o){if(t)e.call(r,o);else for(var n=e.length,i=m(e,n),s=0;s<n;++s)i[s].call(r,o)}function u(e,t,r,o,n){if(t)e.call(r,o,n);else for(var i=e.length,s=m(e,i),a=0;a<i;++a)s[a].call(r,o,n)}function h(e,t,r,o,n,i){if(t)e.call(r,o,n,i);else for(var s=e.length,a=m(e,s),l=0;l<s;++l)a[l].call(r,o,n,i)}function p(e,t,r,o){if(t)e.apply(r,o);else for(var n=e.length,i=m(e,n),s=0;s<n;++s)i[s].apply(r,o)}function f(e,t,r,o){var n,s,l,c;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),l=s[t]):(s=e._events=new i,e._eventsCount=0),l){if("function"==typeof l?l=s[t]=o?[r,l]:[l,r]:o?l.unshift(r):l.push(r),!l.warned&&(n=a(e))&&n>0&&l.length>n){l.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=l.length,c=u,"function"==typeof console.warn?console.warn(c):console.log(c)}}else l=s[t]=r,++e._eventsCount;return e}function d(e,t,r){var o=!1;function n(){e.removeListener(t,n),o||(o=!0,r.apply(e,arguments))}return n.listener=r,n}function y(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function m(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}"undefined"!=typeof L&&(o={blueIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),goldIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),redIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),greenIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),orangeIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),yellowIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),violetIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),greyIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),blackIcon:new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png",shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}),i.prototype=Object.create(null),s.EventEmitter=s,s.usingDomains=!1,s.prototype.domain=void 0,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.init=function(){this.domain=null,s.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new i,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(e){var t,r,o,n,i,s,a,f="error"===e;if(s=this._events)f=f&&null==s.error;else if(!f)return!1;if(a=this.domain,f){if(t=arguments[1],!a){if(t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var y="function"==typeof r;switch(o=arguments.length){case 1:l(r,y,this);break;case 2:c(r,y,this,arguments[1]);break;case 3:u(r,y,this,arguments[1],arguments[2]);break;case 4:h(r,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(o-1),i=1;i<o;i++)n[i-1]=arguments[i];p(r,y,this,n)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,o,n,s,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(r=o[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new i:(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=r[s].listener,n=s;break}if(n<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new i,this;delete o[e]}else!function(e,t){for(var r=t,o=r+1,n=e.length;o<n;r+=1,o+=1)e[r]=e[o];e.pop()}(r,n);o.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new i,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new i:delete r[e]),this;if(0===arguments.length){for(var o,n=Object.keys(r),s=0;s<n.length;++s)"removeListener"!==(o=n[s])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new i,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},s.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var g="undefined"!=typeof self?self:void 0,v="URLSearchParams"in g,w="Symbol"in g&&"iterator"in Symbol,b="FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch(e){return!1}}(),x="FormData"in g,S="ArrayBuffer"in g;if(S)var k=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T=ArrayBuffer.isView||function(e){return e&&k.indexOf(Object.prototype.toString.call(e))>-1};function E(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function O(e){return"string"!=typeof e&&(e=String(e)),e}function C(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return w&&(t[Symbol.iterator]=function(){return t}),t}function A(e){this.map={},e instanceof A?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function _(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function P(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function I(e){var t=new FileReader,r=P(t);return t.readAsArrayBuffer(e),r}function j(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:b&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:x&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:v&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():S&&b&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=j(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):S&&(ArrayBuffer.prototype.isPrototypeOf(e)||T(e))?this._bodyArrayBuffer=j(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b&&(this.blob=function(){var e=_(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var e,t,r,o=_(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=P(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}A.prototype.append=function(e,t){e=E(e),t=O(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},A.prototype.delete=function(e){delete this.map[E(e)]},A.prototype.get=function(e){return e=E(e),this.has(e)?this.map[e]:null},A.prototype.has=function(e){return this.map.hasOwnProperty(E(e))},A.prototype.set=function(e,t){this.map[E(e)]=O(t)},A.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},A.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),C(e)},A.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),C(e)},A.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),C(e)},w&&(A.prototype[Symbol.iterator]=A.prototype.entries);var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(e,t){var r,o,n=(t=t||{}).body;if(e instanceof D){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new A(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new A(t.headers)),this.method=(r=t.method||this.method||"GET",o=r.toUpperCase(),z.indexOf(o)>-1?o:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function U(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}})),t}function B(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new A(t.headers),this.url=t.url||"",this._initBody(e)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},M.call(D.prototype),M.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},B.error=function(){var e=new B(null,{status:0,statusText:""});return e.type="error",e};var N=[301,302,303,307,308];B.redirect=function(e,t){if(-1===N.indexOf(t))throw new RangeError("Invalid status code");return new B(null,{status:t,headers:{location:e}})};var F,q,$,G,J=g.DOMException;function R(e,t){return new Promise((function(r,o){var n=new D(e,t);if(n.signal&&n.signal.aborted)return o(new J("Aborted","AbortError"));var i=new XMLHttpRequest;function s(){i.abort()}i.onload=function(){var e,t,o={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new A,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}})),t)};o.url="responseURL"in i?i.responseURL:o.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;setTimeout((function(){r(new B(n,o))}),0)},i.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){o(new J("Aborted","AbortError"))}),0)},i.open(n.method,function(e){try{return""===e&&g.location.href?g.location.href:e}catch(t){return e}}(n.url),!0),"include"===n.credentials?i.withCredentials=!0:"omit"===n.credentials&&(i.withCredentials=!1),"responseType"in i&&(b?i.responseType="blob":S&&n.headers.get("Content-Type")&&-1!==n.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),n.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),n.signal&&(n.signal.addEventListener("abort",s),i.onreadystatechange=function(){4===i.readyState&&n.signal.removeEventListener("abort",s)}),i.send(void 0===n._bodyInit?null:n._bodyInit)}))}"function"!=typeof J&&((J=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),J.prototype.constructor=J),R.polyfill=!0,g.fetch||(g.fetch=R,g.Headers=A,g.Request=D,g.Response=B);class V{constructor(e){this.queryObject=e}toString(e=!0){var t=this.queryObject.entityType,r=[];if(this.queryObject.id){if(!e)return`${this.queryObject.entityType}(${this.queryObject.id})`;t=`${t}(${this.queryObject.id})`,delete this.queryObject.id}for(var o in this.queryObject.pathSuffix&&(t=`${t}/${this.queryObject.pathSuffix}`),this.queryObject)(this.queryObject[o]||0==this.queryObject[o])&&("select"!=o?"expand"!=o?"entityType"!=o&&"pathSuffix"!=o&&r.push(`$${o}=${this.queryObject[o].toString()}`):r.push("$expand="+this.queryObject.expand.map(e=>new V(e).toString(!1)).join(",")):r.push("$select="+this.queryObject.select.join(",")));return 0==r.length?t:e?`${t}?${r.join("&")}`:`${t}(${r.join(";")})`}}class H{constructor(e){this.baseUrl=e}getGeoJson(t){var r=t.top;return null!=t.top&&null!=t.top||(t.top=1e4),(t=JSON.parse(JSON.stringify(t))).count=!0,new Promise((o,n)=>e(this,void 0,void 0,(function*(){var e=`${this.baseUrl}/${new V(t).toString()}`,n=yield(yield fetch(e)).json();n.value[0]&&n.value[0].dataArray&&(n.value=n.value[0]);for(var i=n["@iot.nextLink"];i&&(null==r||n.value.length&&n.value.length<r||n.value.dataArray&&n.value.dataArray.length<r);){var s=yield(yield fetch(i)).json();s.value[0]&&s.value[0].dataArray?n.value.dataArray.push(...s.value[0].dataArray):n.value.push(...s.value),i=s["@iot.nextLink"]}o(n)})))}}class Z extends s{constructor(e){super(),this.cache=[],this.config=e,this.api=new H(e.baseUrl)}long2tile(e,t){return Math.floor((e+180)/360*Math.pow(2,t))}lat2tile(e,t){return Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t))}tile2long(e,t){return e/Math.pow(2,t)*360-180}tile2lat(e,t){var r=Math.PI-2*Math.PI*e/Math.pow(2,t);return 180/Math.PI*Math.atan(.5*(Math.exp(r)-Math.exp(-r)))}coordinatesToOsm(e,t){return{lat:this.tile2long(this.long2tile(e.lat,t),t),lng:this.tile2lat(this.lat2tile(e.lng,t),t)}}coordinatesToOsmBottom(e,t){return{lat:this.tile2long(this.long2tile(e.lat,t)+1,t),lng:this.tile2lat(this.lat2tile(e.lng,t)+1,t)}}getOSMBoundingBox(e,t){var r={lat:0,lng:0},o={lat:0,lng:0},n=this.long2tile(t[0],e),i=this.lat2tile(t[1],e);r.lat=this.tile2long(n+1,e),r.lng=this.tile2lat(i,e);var s=this.long2tile(t[2],e),a=this.lat2tile(t[3],e);return o.lat=this.tile2long(s,e),o.lng=this.tile2lat(a+1,e),[r.lat,r.lng,o.lat,o.lng]}getQuery(e){if("entityType"in this.config.queryObject)return this.config.queryObject;var t=this.config.queryObject;for(var r of t)if(isNaN(Number(r.zoomLevel))){var o=r.zoomLevel;if(o.to){if(e>=o.from&&e<=o.to)return r.query}else if(e>=o.from)return r.query}else{if(r.zoomLevel==e)return r.query}throw new Error("No Query specified for the zoomLevel: "+e)}getLayerData(t,r){return e(this,void 0,void 0,(function*(){this.emitChange(t);var o=JSON.parse(JSON.stringify(this.getQuery(t)));if("Things"==o.entityType)o.select=["id"],o.expand=[{entityType:"Locations"}];else{if("FeaturesOfInterest"!=o.entityType)throw new Error("Only Things and FeaturesOfInterest are supported");o.select=["feature"]}o.count=!0,o.top=0;for(var n={lat:this.lat2tile(r[1],t),lng:this.long2tile(r[0],t)},i={lat:this.lat2tile(r[3],t),lng:this.long2tile(r[2],t)},s=[],a=[],l=i.lng;l<=n.lng;l++)for(var c=n.lat;c<=i.lat;c++){const r={lat:this.tile2lat(c,t),lng:this.tile2long(l,t)},n={lat:this.tile2lat(c+1,t),lng:this.tile2long(l+1,t)},i=JSON.parse(JSON.stringify(o)),s=X([[[r.lng,r.lat],[r.lng,n.lat],[n.lng,n.lat],[n.lng,r.lat],[r.lng,r.lat]]],i.entityType);i.filter?i.filter=`(${i.filter}) and ${s}`:i.filter=s;const u={type:"Feature",geometry:{type:"Polygon",coordinates:[[[r.lng,r.lat],[r.lng,n.lat],[n.lng,n.lat],[n.lng,r.lat],[r.lng,r.lat]]]},properties:{count:0}};this.getCached(t).features.find(e=>W(u,e))||a.push(new Promise((r,o)=>e(this,void 0,void 0,(function*(){if(this.config.cluster||null==this.config.cluster){var e=yield this.api.getGeoJson(i);u.properties.count=e["@iot.count"],this.addToCache(t,u)}else this.addToCache(t,u,!1);r(u)}))))}(yield Promise.all(a)).forEach(e=>{s.push(e)});var u=[];s.forEach(e=>{(e.properties.count<this.config.clusterMin||0==this.config.cluster)&&u.push(e.geometry.coordinates)}),yield this.getMarkers(u,t)}))}getMarkers(t,r){return e(this,void 0,void 0,(function*(){if(0!=t.length){var o=JSON.parse(JSON.stringify(this.getQuery(r)));if(o.top=1e3,"Things"==o.entityType){o.expand||(o.expand=[]);var n=o.expand.find(e=>"Datastreams"==e.entityType);n?(n.select||(n.select=["id","name","unitOfMeasurement"]),n.select.includes("id")||n.select.push("id"),n.select.includes("name")||n.select.push("name"),n.select.includes("unitOfMeasurement")||n.select.push("unitOfMeasurement")):o.expand.push({entityType:"Datastreams",select:["id","name","unitOfMeasurement"],expand:[{entityType:"observedProperty"}]}),o.expand.some(e=>"Locations"==e.entityType)||o.expand.push({entityType:"Locations"})}else o.select&&!o.select.includes("feature")&&o.select.push("feature"),o.expand=[{entityType:"Observations",top:1,expand:[{entityType:"Datastream",select:["unitOfMeasurement","id"],expand:[{entityType:"observedProperty"}]}]}];o.filter&&(o.filter=`(${o.filter}) and `);var i=[];for(var s of t){var a=JSON.parse(JSON.stringify(o));a.filter=X(s,a.entityType),i.push(new Promise((t,n)=>e(this,void 0,void 0,(function*(){(yield this.api.getGeoJson(a)).value.forEach(e=>{var t;if("Point"==(t="Things"==o.entityType?e.Locations[0].location:e.feature).type&&(t={type:"Feature",geometry:t}),delete e.Locations,t.properties=e,e.getData||(e.getData={}),"Things"==o.entityType)for(var n of e.Datastreams)this.addGetDataCallback(n,e);else{const t=e.Observations[0].Datastream;this.addGetDataCallback(t,e)}this.getCached(r).features.some(e=>W(t,e))||this.addToCache(r,t)}),t()}))))}yield Promise.all(i)}}))}addGetDataCallback(t,r){const o=t["@iot.id"],n=t.unitOfMeasurement;r.getData[t.ObservedProperty.name]=function(t){var r={entityType:"Datastreams",id:o,pathSuffix:"Observations"};return r=t(r),new Promise((t,o)=>e(this,void 0,void 0,(function*(){var e=yield this.api.getGeoJson(r);e.unitOfMeasurement=n,t(e)})))}.bind(this)}getCached(e){this.config.cachingDuration&&(this.cache=this.cache.filter(function(e){var t=new Date(e.timestamp);return t.setSeconds(e.timestamp.getSeconds()+this.config.cachingDuration),t>new Date}.bind(this)));var t={type:"FeatureCollection",features:[]};for(var r of this.cache)r.zoom==e&&t.features.push(r.geoJson);return t}addToCache(e,t,r=!0){this.cache.push({geoJson:t,zoom:e,timestamp:new Date}),r&&this.emitChange(e)}emitChange(e){var t=this.getCached(e);t.features=this.getCached(e).features.filter(e=>{var t,r,o;return null==(null===(t=e.properties)||void 0===t?void 0:t.count)||(0==this.config.cluster?null==(null===(r=e.properties)||void 0===r?void 0:r.count):(null===(o=e.properties)||void 0===o?void 0:o.count)>=this.config.clusterMin)}),this.emit("change",t)}}function W(e,t){return e.type==t.type&&("Point"==e.type?Q(e.coordinates,t.coordinates):Q(e.geometry.coordinates,t.geometry.coordinates))}function Q(e,t){return JSON.stringify(e)===JSON.stringify(t)}function X(e,t){return e.map(e=>(null!=e[0][0][0]&&(e=e[0]),`geo.intersects(${"Things"==t?"Locations/location":"feature"},geography'POLYGON ((${e.map(e=>e.join(" ")).join(",")}))')`)).join(" or ")}(se(".loader{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:60px;height:60px;left:0;right:0;top:0;margin:auto;bottom:0;position:fixed;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}"),"undefined"!=typeof L)&&(L.Stam=L.LayerGroup.extend({initialize:function(e){var t,r=new Z(e),o={default:{opacity:0,fillOpacity:0},highlight:{color:"red",opacity:1}},i=function(r){var n,i="function"==typeof e.clusterStyle?e.clusterStyle(r.feature).polygon.default:null===(n=e.clusterStyle)||void 0===n?void 0:n.polygon.default;te(i),r.setStyle(null!=i?i:o.default),t=null};this.on("add",(function(){if(null!=this._map){var s,a=this._map,l=a.getZoom();F=L.layerGroup();var c=(r,n)=>{var l,c;if(s&&(F.clearLayers(),s=!1),"Polygon"==(null===(l=r.geometry)||void 0===l?void 0:l.type)&&r.properties.count){n.on("mouseover",(function(){e.clusterMouseOver&&e.clusterMouseOver(r),function(r){var n;t&&i(t);var s="function"==typeof e.clusterStyle?e.clusterStyle(r.feature).polygon.hover:null===(n=e.clusterStyle)||void 0===n?void 0:n.polygon.hover;te(s),r.setStyle(null!=s?s:o.highlight),t=r}(n)})),n.on("mouseout",(function(){i(n)})),n.on("click",(function(){if(e.clusterClick)return e.clusterClick(r);a.fitBounds(n.getBounds())}));var u="function"==typeof e.clusterStyle?e.clusterStyle(n.feature).polygon.default:null===(c=e.clusterStyle)||void 0===c?void 0:c.polygon.default;te(u),n.setStyle(null!=u?u:o.default);var h=n.getBounds(),p=(h._northEast.lat+h._southWest.lat)/2,f=(h._northEast.lng+h._southWest.lng)/2,d=L.circleMarker(L.latLng(p,f),{radius:127/3});d.bindTooltip(`<span>${r.properties.count}</span>`,{permanent:!0,direction:"center",className:"count"}),F.addLayer(d)}else{var y=!0;n.on("popupopen",(function(t){y&&re(t.popup.getElement().getElementsByClassName("leaflet-popup-content")[0],r,e)})),n.on("click",(function(){if(n.getPopup())n.getPopup().openPopup();else{if(e.markerClick){var t=e.markerClick(r);t&&(y=!1,n.bindPopup(t).openPopup())}y&&n.bindPopup("<h3>"+r.properties.name+"</h3>").openPopup()}})),n.on("mouseover",(function(){if(e.markerMouseOver)return e.markerMouseOver(r)}))}},u=function(t,r){if("function"==typeof e.markerStyle&&"AsyncFunction"===e.markerStyle.constructor.name){var o=L.marker(r);return e.markerStyle(t).then(e=>{o.setIcon(n(e))}),o}return o=L.marker(r,{icon:"function"==typeof e.markerStyle?n(e.markerStyle(t)):"string"==typeof e.markerStyle?n(e.markerStyle):new L.Icon.Default})};a.on("layeradd",(function(){a.off("layeradd"),q=L.geoJSON(null,{onEachFeature:c,pointToLayer:u,style:e.clusterStyle}),this.addLayer(F),this.addLayer(q);var t=a.getBounds();r.getLayerData(a.getZoom(),[t._northEast.lng,t._northEast.lat,t._southWest.lng,t._southWest.lat])})),r.on("change",function(e){q.clearLayers(),q.addData(e),s=!0}.bind(this)),a.on("moveend",(function(){l!=a.getZoom()&&(l=a.getZoom()),s=!0;var e=a.getBounds();r.getLayerData(a.getZoom(),[e._northEast.lng,e._northEast.lat,e._southWest.lng,e._southWest.lat])}))}}))}}),L.stam=function(e){return new L.Stam(e)},se(".leaflet-tooltip.count {background-color: transparent;border: transparent;  box-shadow: none;  font-weight: bold;font-size: 20px;}"));if("undefined"!=typeof ol){se('.ol-popup{position:absolute;min-width:180px;background-color:#fff;-webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));padding:15px;border-radius:10px;border:1px solid #ccc;bottom:40px;left:-50px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer:after{content:"✖"}');var K,Y,ee=function(e){Y=e.map,ol.layer.Group.call(this,e),K=Y.getView().getZoom().toFixed(0);var t=new Z(e),r=!1,o=new ol.layer.Vector({source:new ol.source.Vector}),n=new ol.layer.Vector({source:new ol.source.Vector,style:function(t){if(r&&(r=!1,o.getSource().clear()),"Point"==t.getGeometry().getType())return"function"==typeof e.markerStyle&&"AsyncFunction"===e.markerStyle.constructor.name?(e.markerStyle(oe(t)).then(e=>{t.setStyle(new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],scale:.5,anchorXUnits:"fraction",anchorYUnits:"fraction",src:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${e}.png`})}))}),null):n=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],scale:.5,anchorXUnits:"fraction",anchorYUnits:"fraction",src:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${"function"==typeof e.markerStyle?e.markerStyle(oe(t)):e.markerStyle?e.markerStyle:"blue"}.png`})});if(null!=t.get("count")){var n,i=t.getGeometry().getExtent(),s=(i[0]+i[2])/2,a=(i[1]+i[3])/2,l=null==(n="function"==typeof e.clusterStyle?e.clusterStyle(oe(t)):e.clusterStyle)?void 0:n.circle,c=null==n?void 0:n.polygon.default,u=new ol.Feature({geometry:new ol.geom.Circle([s,a],(i[2]-i[0])/6),name:"cluster"}),h=new ol.style.Text({font:"30px Calibri,sans-serif",fill:new ol.style.Fill({color:"#000"}),stroke:new ol.style.Stroke({color:"#fff",width:2}),text:""+t.get("count")});if(l)(n=ne(l)).setText(h),u.setStyle(n);else u.setStyle(new ol.style.Style({stroke:new ol.style.Stroke({width:2,color:"red",radius:1}),text:h}));return o.getSource().addFeature(u),c&&(c=ne(c)),null!=c?c:new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(0, 0, 0, 0)",width:3}),fill:new ol.style.Fill({color:"rgba(0, 0, 0, 0)"})})}}}),i=new ol.layer.Group({layers:[o,n]});Y.addLayer(i);var s=new ol.format.GeoJSON({featureProjection:Y.getView().getProjection().getCode()});t.on("change",e=>{n.getSource().clear(),r=!0,n.getSource().addFeatures(s.readFeatures(e))}),document.getElementById("popup")||document.writeln('<div id="popup" class="ol-popup">\n      <a href="#" id="popup-closer" class="ol-popup-closer"></a>\n      <div id="popup-content"></div>\n      </div>');var a=document.getElementById("popup"),l=document.getElementById("popup-content"),c=document.getElementById("popup-closer");c.onclick=function(){return u.setPosition(void 0),c.blur(),!1};var u=new ol.Overlay({element:a,autoPan:!0,offset:[0,-10]});Y.addOverlay(u);var h=null,p=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255,255,255,0.7)"}),stroke:new ol.style.Stroke({color:"#3399CC",width:3})}),f=null;Y.on("pointermove",(function(t){Y.forEachFeatureAtPixel(t.pixel,(function(t){if(t.get("count")){if(f!=t&&(f=t,e.clusterMouseOver&&e.clusterMouseOver(oe(t))),h!=t&&(null==h||h.setStyle(void 0),h=t),e.clusterStyle)r=ne("function"==typeof e.clusterStyle?e.clusterStyle(oe(t)).polygon.hover:e.clusterStyle.polygon.hover);else var r=p;t.setStyle(r)}else t.get("@iot.id")&&f!=t&&(f=t,e.markerMouseOver&&e.markerMouseOver(oe(t)));return t}))?this.getTargetElement().style.cursor="pointer":(h&&(null==h||h.setStyle(void 0),h=null),this.getTargetElement().style.cursor="")})),Y.on("click",(function(t){var r=Y.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(r)if(null!=r.get("@iot.id")){var o,n=r.getGeometry().getCoordinates();"function"==typeof e.markerClick&&(o=e.markerClick(oe(r))),o?l.innerHTML=o:re(l,oe(r),e),u.setPosition(n)}else null!=r.get("count")&&("function"==typeof e.clusterClick?null==e||e.clusterClick(oe(r)):Y.getView().fit(r.getGeometry().getExtent(),Y.getSize(),{duration:1e3}))})),Y.on("moveend",(function(){K!=Y.getView().getZoom()&&(K=Y.getView().getZoom().toFixed(0)),function(e,t,r,o){var n;if("EPSG:4326"==Y.getView().getProjection().getCode())n=Y.getView().calculateExtent();else{var i=Y.getView().calculateExtent(),s=Y.getView().getProjection().getCode();(n=[]).push(...new ol.geom.Point([i[2],i[3]]).transform(s,"EPSG:4326").getCoordinates()),n.push(...new ol.geom.Point([i[0],i[1]]).transform(s,"EPSG:4326").getCoordinates())}e.getLayerData(t,n)}(t,K)}))};$=ee,G=ol.layer.Group,$.prototype=Object.create(G.prototype),$.prototype.constructor=$,ol.layer.STAM=ee}function te(e){e&&!e.fillColor&&(e.fillColor="rgba(255,0,0,0.0)")}function re(t,o,n){t.innerHTML="<h3>"+o.properties.name+"</h3>";var i=document.createElement("ul");Object.keys(o.properties.getData).forEach((function(t){var s=document.createElement("li");s.innerText=t,s.setAttribute("style","cursor: pointer"),"undefined"!=typeof Plotly&&(s.onclick=function(){r({width:"70%",content:"",modalId:"pico-1"}).beforeClose((function(){Plotly.purge("pico-1"),document.getElementById("pico-1").remove()})).afterShow((function(r){return e(this,void 0,void 0,(function*(){r.modalElem().style.overflow="hidden",r.modalElem().style.height="50%";var e=document.createElement("div");e.classList.add("loader"),r.modalElem().appendChild(e);var i=!1,s=yield o.properties.getData[t]((function(e){if(e.resultFormat="dataArray",e.orderby="phenomenonTime asc",n.plot){var t="gt";n.plot.offset?(e.top=Math.abs(n.plot.offset),-1==Math.sign(n.plot.offset)&&(i=!0,e.orderby="phenomenonTime desc",t="lt"),e.filter=`phenomenonTime ${t} ${n.plot.startDate.toISOString()}`):n.plot.endDate&&(e.filter=`(phenomenonTime gt ${n.plot.startDate.toISOString()}) and (phenomenonTime lt ${n.plot.endDate.toISOString()})`)}return e})),a=[],l=[],c=s.value;i&&(c.dataArray=c.dataArray.reverse()),c.dataArray&&c.dataArray.forEach(e=>{-1!=e[1].indexOf("/")?(a.push(e[1].split("/")[0]),a.push(e[1].split("/")[1]),l.push(e[2])):a.push(e[1]),l.push(e[2])});var u=[{x:a,y:l,type:"scatter"}],h={xaxis:{autorange:!0},yaxis:{autorange:!0,title:{text:s.unitOfMeasurement.name}},autosize:!0};e.remove(),Plotly.newPlot("pico-1",u,h,{responsive:!0})}))})).show()}),i.appendChild(s)})),t.appendChild(i)}function oe(e){return{type:e.getGeometry().getType(),properties:e.getProperties(),geometry:{type:"Point",coordinates:e.getGeometry().getCoordinates()}}}function ne(e){var t,r;return new ol.style.Style({stroke:new ol.style.Stroke({color:ie(null!==(t=e.color)&&void 0!==t?t:"red",e.opacity),width:null!==(r=e.weight)&&void 0!==r?r:1}),fill:new ol.style.Fill({color:e.fillColor?ie(e.fillColor,e.fillOpacity):"rgba(0, 0, 0, 0)"})})}function ie(e,t=1){const[r,o,n]=Array.from(ol.color.asArray(e));return ol.color.asString([r,o,n,t])}function se(e){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");t.appendChild(r),r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}();
